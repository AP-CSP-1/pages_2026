---
layout: page
title: "Interactive Student Analytics Dashboard"
description: "Advanced analytics dashboard with CSV upload, AI-powered insights, and comprehensive student grading across all lessons"
permalink: /cs-portfolio-quest/analytics/dashboard/
parent: "Analytics/Admin"
team: "Curators"
submodule: 4
categories: [CSP, Submodule, Analytics/Admin]
tags: [analytics, dashboard, AI, grading, curators]
author: "Curators Team"
date: 2025-10-30
---

# This is NOT  real module. It is used as an example so we can take components. Once again, this is NOT a module. This will be deleted in future!

Thank you.

<div>
  <div>
    <h1>üéì Student Analytics Dashboard</h1>
    <p>AI-Powered Insights ‚Ä¢ Real-Time Grading ‚Ä¢ Comprehensive Progress Tracking</p>
  </div>

  <div style="border: 2px dashed #ccc; padding: 1rem; margin-bottom: 1rem; text-align: center;">
    <div id="uploadArea">
      <h3>Upload Student Data (CSV)</h3>
      <p style="color: #666; margin: 1rem 0;">Drop your CSV file here or click to browse</p>
      <input type="file" id="csvFileInput" class="file-input" accept=".csv" style="display: none;" />
      <button onclick="document.getElementById('csvFileInput').click()">
        Choose File
      </button>
      <button id="loadSampleBtn" style="margin-left: 1rem;">
        Load Sample Data
      </button>
    </div>
    <div id="fileInfo" style="margin-top: 1rem; text-align: center;"></div>
  </div>

  <div id="controlsPanel" style="display: none; margin-bottom: 1.5rem; padding: 1rem; border: 1px solid #eee;">
    <div style="margin-right: 1rem; display: inline-block;">
      <label for="moduleFilter">Filter by Module</label><br/>
      <select id="moduleFilter">
        <option value="all">All Modules</option>
        <option value="frontend">Frontend</option>
        <option value="backend">Backend</option>
        <option value="data-viz">Data Visualization</option>
        <option value="ai">AI Usage</option>
        <option value="resume">Resume</option>
      </select>
    </div>
    <div style="margin-right: 1rem; display: inline-block;">
      <label for="gradeFilter">Grade Threshold</label><br/>
      <select id="gradeFilter">
        <option value="all">All Grades</option>
        <option value="a">A (90-100%)</option>
        <option value="b">B (80-89%)</option>
        <option value="c">C (70-79%)</option>
        <option value="below">Below 70%</option>
      </select>
    </div>
    <div style="margin-right: 1rem; display: inline-block;">
      <label for="timeFilter">Time Range</label><br/>
      <select id="timeFilter">
        <option value="all">All Time</option>
        <option value="week">Last Week</option>
        <option value="month">Last Month</option>
        <option value="quarter">Last Quarter</option>
      </select>
    </div>
    <div style="margin-right: 1rem; display: inline-block;">
      <label for="studentSearch">Search Student</label><br/>
      <input type="text" id="studentSearch" placeholder="Enter student name..." />
    </div>
  </div>

  <div id="statsGrid" style="display: none; margin-bottom: 1.5rem;">
    <h2>üìà Key Statistics</h2>
    <ul style="list-style: none; padding-left: 0;">
      <li style="border: 1px solid #eee; padding: 1rem; margin-bottom: 0.5rem;">
        <strong>üë• Total Students:</strong> <span id="totalStudents">0</span> 
        (<span id="studentsTrend">+0% from last period</span>)
      </li>
      <li style="border: 1px solid #eee; padding: 1rem; margin-bottom: 0.5rem;">
        <strong>üìà Average Grade:</strong> <span id="avgGrade">0%</span> 
        (<span id="gradeTrend">+0% improvement</span>)
      </li>
      <li style="border: 1px solid #eee; padding: 1rem; margin-bottom: 0.5rem;">
        <strong>‚úÖ Completion Rate:</strong> <span id="completionRate">0%</span> 
        (<span id="completionTrend">+0% this week</span>)
      </li>
      <li style="border: 1px solid #eee; padding: 1rem; margin-bottom: 0.5rem;">
        <strong>‚è±Ô∏è Avg Study Time:</strong> <span id="avgTime">0h</span> 
        (<span id="timeTrend">+0 hours</span>)
      </li>
    </ul>
  </div>

  <div id="aiInsights" style="display: none; margin-bottom: 1.5rem; border: 1px solid #eee; padding: 1rem;">
    <h2>
      ü§ñ Gemini AI Insights 
      <span id="aiSpinner" style="display: none;">(Loading...)</span>
    </h2>
    <div id="aiContent">
      <p id="aiMainInsight">Analyzing your data with AI...</p>
      <blockquote id="aiRecommendation" style="border-left: 4px solid #ccc; padding-left: 1rem; margin-left: 0; background: #f9f9f9;">
        <strong>üí° Key Recommendation:</strong>
        <p id="aiRecommendationText">Loading recommendations...</p>
      </blockquote>
      <div id="mlPredictions" style="display: none; margin-top: 1rem;">
        <h4>üîÆ ML-Powered Predictions</h4>
        <div id="predictionsList"></div>
      </div>
    </div>
  </div>

  <div id="progressChart" style="display: none; margin-bottom: 1.5rem; border: 1px solid #eee; padding: 1rem;">
    <div>
      <h3>Student Progress Over Time</h3>
      <p>
        Chart Type:
        <button class="chart-btn" data-chart="line">Line</button>
        <button class="chart-btn" data-chart="bar">Bar</button>
        <button class="chart-btn" data-chart="area">Area</button>
      </p>
    </div>
    <div style="position: relative; height: 400px; margin-bottom: 1rem;">
      <canvas id="progressChartCanvas"></canvas>
    </div>
  </div>

  <div id="gradeDistChart" style="display: none; margin-bottom: 1.5rem; border: 1px solid #eee; padding: 1rem;">
    <div>
      <h3>Grade Distribution</h3>
      <p>
        Chart Type:
        <button class="chart-btn" data-chart="pie">Pie</button>
        <button class="chart-btn" data-chart="doughnut">Doughnut</button>
        <button class="chart-btn" data-chart="polar">Polar</button>
      </p>
    </div>
    <div style="position: relative; height: 400px; margin-bottom: 1rem;">
      <canvas id="gradeDistCanvas"></canvas>
    </div>
  </div>

  <div id="lessonHeatmap" style="display: none; margin-bottom: 1.5rem; border: 1px solid #eee; padding: 1rem;">
    <div>
      <h3>Lesson Completion Heatmap</h3>
    </div>
    <div style="position: relative; height: 400px;">
      <canvas id="heatmapCanvas"></canvas>
    </div>
  </div>

  <div id="performanceHistogram" style="display: none; margin-bottom: 1.5rem; border: 1px solid #eee; padding: 1rem;">
    <div>
      <h3>Performance Histogram</h3>
    </div>
    <div style="position: relative; height: 400px;">
      <canvas id="histogramCanvas"></canvas>
    </div>
  </div>

  <div id="gradingSection" style="display: none;">
    <h3 style="margin-bottom: 1.5rem;">üìä Student Grades & Progress</h3>
    <div id="gradeCards"></div>
  </div>
</div>

<div class="tooltip" id="tooltip" style="display: none; position: absolute; background: #333; color: white; padding: 0.5rem; border-radius: 4px; pointer-events: none; z-index: 1000;"></div>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

<script>
// Global data storage
let studentData = [];
let charts = {};

// Sample data generator
function generateSampleData() {
  const students = [
    'Alice Johnson', 'Bob Smith', 'Charlie Brown', 'Diana Prince', 
    'Ethan Hunt', 'Fiona Apple', 'George Miller', 'Hannah Montana',
    'Isaac Newton', 'Julia Roberts', 'Kevin Hart', 'Laura Croft'
  ];
  
  const modules = ['Frontend', 'Backend', 'Data-Viz', 'AI', 'Resume'];
  const lessons = Array.from({length: 6}, (_, i) => `Lesson ${i + 1}`);
  
  const data = [];
  students.forEach(student => {
    modules.forEach(module => {
      lessons.forEach((lesson, idx) => {
        const completion = Math.random() > 0.2 ? 'Completed' : 'In Progress';
        const score = completion === 'Completed' ? 
          Math.floor(Math.random() * 30 + 70) : 
          Math.floor(Math.random() * 50 + 20);
        const timeSpent = Math.floor(Math.random() * 120 + 30);
        
        data.push({
          student,
          module,
          lesson,
          completion,
          score,
          timeSpent,
          submissionDate: new Date(2025, 9, Math.floor(Math.random() * 30) + 1).toISOString().split('T')[0]
        });
      });
    });
  });
  
  return data;
}

// CSV Upload Handler
document.getElementById('csvFileInput').addEventListener('change', function(e) {
  const file = e.target.files[0];
  if (file) {
    document.getElementById('fileInfo').innerHTML = `Processing ${file.name}...`;
    
    Papa.parse(file, {
      header: true,
      complete: function(results) {
        studentData = results.data.filter(row => row.student); // Filter out empty rows
        processData();
        document.getElementById('fileInfo').innerHTML = `‚úÖ Loaded ${studentData.length} records from ${file.name}`;
      },
      error: function(error) {
        document.getElementById('fileInfo').innerHTML = `‚ùå Error: ${error.message}`;
      }
    });
  }
});

// Load Sample Data
document.getElementById('loadSampleBtn').addEventListener('click', function() {
  document.getElementById('fileInfo').innerHTML = 'Generating sample data...';
  setTimeout(() => {
    studentData = generateSampleData();
    processData();
    document.getElementById('fileInfo').innerHTML = `‚úÖ Loaded ${studentData.length} sample records`;
  }, 500);
});

// Process and display data
function processData(dataToProcess = null) {
  const data = dataToProcess || studentData;
  
  // Show all sections
  document.getElementById('controlsPanel').style.display = 'block';
  document.getElementById('statsGrid').style.display = 'block';
  document.getElementById('aiInsights').style.display = 'block';
  document.getElementById('progressChart').style.display = 'block';
  document.getElementById('gradeDistChart').style.display = 'block';
  document.getElementById('lessonHeatmap').style.display = 'block';
  document.getElementById('performanceHistogram').style.display = 'block';
  document.getElementById('gradingSection').style.display = 'block';
  
  updateStatistics(data);
  generateAIInsights();
  createCharts(data);
  displayGrades(data);
}

// Update statistics
function updateStatistics(data = studentData) {
  const uniqueStudents = [...new Set(data.map(d => d.student))];
  const completedLessons = data.filter(d => d.completion === 'Completed');
  const avgScore = completedLessons.length > 0 ? 
    completedLessons.reduce((sum, d) => sum + parseFloat(d.score || 0), 0) / completedLessons.length : 0;
  const completionRate = data.length > 0 ? (completedLessons.length / data.length) * 100 : 0;
  const avgTime = data.length > 0 ? 
    data.reduce((sum, d) => sum + parseFloat(d.timeSpent || 0), 0) / data.length : 0;
  
  document.getElementById('totalStudents').textContent = uniqueStudents.length;
  document.getElementById('avgGrade').textContent = avgScore.toFixed(1) + '%';
  document.getElementById('completionRate').textContent = completionRate.toFixed(1) + '%';
  document.getElementById('avgTime').textContent = (avgTime / 60).toFixed(1) + 'h';
  
  // Trends (simulated)
  document.getElementById('studentsTrend').textContent = '+12% from last period';
  document.getElementById('gradeTrend').textContent = '+5.3% improvement';
  document.getElementById('completionTrend').textContent = '+8% this week';
  document.getElementById('timeTrend').textContent = '+2.5 hours';
}

// Generate AI Insights using simulated Gemini-style analysis
function generateAIInsights() {
  document.getElementById('aiSpinner').style.display = 'inline-block';
  
  setTimeout(() => {
    const avgScore = studentData.reduce((sum, d) => sum + parseFloat(d.score || 0), 0) / studentData.length;
    const completedCount = studentData.filter(d => d.completion === 'Completed').length;
    const topModule = getTopModule();
    
    const insights = [
      `Based on analysis of ${studentData.length} data points, student performance shows a strong trend upward with an average score of ${avgScore.toFixed(1)}%.`,
      `${completedCount} lessons have been completed, indicating solid engagement across all modules.`,
      `The ${topModule.name} module shows the highest completion rate at ${topModule.rate.toFixed(1)}%, suggesting strong student interest in this area.`
    ];
    
    document.getElementById('aiMainInsight').innerHTML = insights.join(' ');
    
    // Recommendations
    const recommendations = [
      'Students struggling with Backend module (average 76%) may benefit from additional tutorials on API development.',
      'Consider implementing peer mentoring for students scoring below 70% to improve overall class performance.',
      'The AI module shows declining engagement in later lessons - recommend breaking content into smaller, interactive segments.'
    ];
    
    document.getElementById('aiRecommendationText').innerHTML = recommendations[Math.floor(Math.random() * recommendations.length)];
    
    // ML Predictions
    generateMLPredictions();
    
    document.getElementById('aiSpinner').style.display = 'none';
  }, 2000);
}

function getTopModule() {
  const moduleStats = {};
  const modules = [...new Set(studentData.map(d => d.module))];
  
  modules.forEach(mod => {
    const modData = studentData.filter(d => d.module === mod);
    const completed = modData.filter(d => d.completion === 'Completed').length;
    moduleStats[mod] = (completed / modData.length) * 100;
  });
  
  const topMod = Object.keys(moduleStats).reduce((a, b) => 
    moduleStats[a] > moduleStats[b] ? a : b
  );
  
  return { name: topMod, rate: moduleStats[topMod] };
}

// ML Predictions
function generateMLPredictions() {
  const predictions = [
    { text: 'Students will complete 85% of remaining lessons by end of month', confidence: 78 },
    { text: 'Average grade expected to increase to 88% next quarter', confidence: 82 },
    { text: 'Backend module engagement predicted to improve by 15%', confidence: 71 },
    { text: '92% likelihood of class achieving 80%+ average by semester end', confidence: 89 }
  ];
  
  const html = '<ul>' + predictions.map(p => `
    <li style="margin-bottom: 0.5rem;">
      ${p.text} (Confidence: ${p.confidence}%)
      <br/>
      <progress value="${p.confidence}" max="100" style="width: 100px;"></progress>
    </li>
  `).join('') + '</ul>';
  
  document.getElementById('predictionsList').innerHTML = html;
  document.getElementById('mlPredictions').style.display = 'block';
}

// Create charts
function createCharts(data = studentData) {
  createProgressChart(data);
  createGradeDistribution(data);
  createHeatmap(data);
  createHistogram(data);
}

// Progress Chart
function createProgressChart(data = studentData) {
  const ctx = document.getElementById('progressChartCanvas').getContext('2d');
  
  // Group by date
  const dateGroups = {};
  data.forEach(d => {
    const date = d.submissionDate || new Date().toISOString().split('T')[0];
    if (!dateGroups[date]) dateGroups[date] = [];
    dateGroups[date].push(parseFloat(d.score || 0));
  });
  
  const dates = Object.keys(dateGroups).sort();
  const avgScores = dates.map(date => {
    const scores = dateGroups[date];
    return scores.reduce((a, b) => a + b, 0) / scores.length;
  });
  
  if (charts.progress) charts.progress.destroy();
  
  charts.progress = new Chart(ctx, {
    type: 'line',
    data: {
      labels: dates,
      datasets: [{
        label: 'Average Score',
        data: avgScores,
        borderColor: 'rgba(102, 126, 234, 1)',
        backgroundColor: 'rgba(102, 126, 234, 0.1)',
        tension: 0.4,
        fill: true,
        pointRadius: 5,
        pointHoverRadius: 7,
        pointBackgroundColor: 'rgba(102, 126, 234, 1)'
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: { display: true },
        tooltip: {
          padding: 12,
          cornerRadius: 8
        }
      },
      scales: {
        y: {
          beginAtZero: true,
          max: 100,
          grid: { color: 'rgba(0, 0, 0, 0.1)' }
        },
        x: {
          grid: { display: false }
        }
      }
    }
  });
}

// Grade Distribution
function createGradeDistribution(data = studentData) {
  const ctx = document.getElementById('gradeDistCanvas').getContext('2d');
  
  const grades = { A: 0, B: 0, C: 0, D: 0, F: 0 };
  data.forEach(d => {
    const score = parseFloat(d.score || 0);
    if (score >= 90) grades.A++;
    else if (score >= 80) grades.B++;
    else if (score >= 70) grades.C++;
    else if (score >= 60) grades.D++;
    else grades.F++;
  });
  
  if (charts.gradeDist) charts.gradeDist.destroy();
  
  charts.gradeDist = new Chart(ctx, {
    type: 'doughnut',
    data: {
      labels: ['A (90-100)', 'B (80-89)', 'C (70-79)', 'D (60-69)', 'F (<60)'],
      datasets: [{
        data: Object.values(grades),
        backgroundColor: [
          'rgba(72, 187, 120, 0.8)',
          'rgba(66, 153, 225, 0.8)',
          'rgba(237, 137, 54, 0.8)',
          'rgba(245, 101, 101, 0.8)',
          'rgba(159, 122, 234, 0.8)'
        ],
        borderWidth: 0
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      cutout: '60%',
      plugins: {
        legend: {
          display: true,
          position: 'right',
          labels: { padding: 15 }
        },
        tooltip: {
          padding: 12,
          cornerRadius: 8
        }
      }
    }
  });
}

// Heatmap
function createHeatmap(data = studentData) {
  const ctx = document.getElementById('heatmapCanvas').getContext('2d');
  
  // Create matrix of lesson completion by student
  const students = [...new Set(data.map(d => d.student))].slice(0, 10);
  const lessons = [...new Set(data.map(d => d.lesson))];
  
  const matrix = students.map(student => 
    lessons.map(lesson => {
      const record = data.find(d => d.student === student && d.lesson === lesson);
      return record ? parseFloat(record.score || 0) : 0;
    })
  );
  
  if (charts.heatmap) charts.heatmap.destroy();
  
  charts.heatmap = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: students,
      datasets: lessons.map((lesson, idx) => ({
        label: lesson,
        data: matrix.map(row => row[idx]),
        backgroundColor: `hsla(${idx * 60}, 70%, 60%, 0.6)`,
        borderWidth: 1
      }))
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: { display: true },
        tooltip: {
          padding: 12,
          cornerRadius: 8
        }
      },
      scales: {
        x: { stacked: false, grid: { display: false } },
        y: { stacked: false, grid: { color: 'rgba(0, 0, 0, 0.1)' } }
      }
    }
  });
}

// Histogram
function createHistogram(data = studentData) {
  const ctx = document.getElementById('histogramCanvas').getContext('2d');
  
  const scores = data.map(d => parseFloat(d.score || 0));
  const bins = [0, 20, 40, 60, 70, 80, 90, 100];
  const histogram = bins.slice(0, -1).map((bin, idx) => ({
    range: `${bin}-${bins[idx + 1]}`,
    count: scores.filter(s => s >= bin && s < bins[idx + 1]).length
  }));
  
  if (charts.histogram) charts.histogram.destroy();
  
  charts.histogram = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: histogram.map(h => h.range),
      datasets: [{
        label: 'Number of Scores',
        data: histogram.map(h => h.count),
        backgroundColor: 'rgba(240, 147, 251, 0.8)',
        borderColor: 'rgba(240, 147, 251, 1)',
        borderWidth: 2,
        borderRadius: 8
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: { display: false },
        tooltip: {
          padding: 12,
          cornerRadius: 8
        }
      },
      scales: {
        y: {
          beginAtZero: true,
          grid: { color: 'rgba(0, 0, 0, 0.1)' }
        },
        x: {
          grid: { display: false }
        }
      }
    }
  });
}

// Display student grades
function displayGrades(data = studentData) {
  const studentGrades = {};
  
  data.forEach(d => {
    if (!studentGrades[d.student]) {
      studentGrades[d.student] = {
        lessons: [],
        totalScore: 0,
        completed: 0
      };
    }
    
    studentGrades[d.student].lessons.push({
      module: d.module,
      lesson: d.lesson,
      score: parseFloat(d.score || 0),
      completion: d.completion,
      timeSpent: parseFloat(d.timeSpent || 0)
    });
    
    if (d.completion === 'Completed') {
      studentGrades[d.student].totalScore += parseFloat(d.score || 0);
      studentGrades[d.student].completed++;
    }
  });
  
  const gradeCardsHtml = Object.keys(studentGrades).map(student => {
    const data = studentGrades[student];
    const avgScore = data.completed > 0 ? data.totalScore / data.completed : 0;
    const progress = (data.completed / data.lessons.length) * 100;
    
    let gradeLetter = 'F';
    if (avgScore >= 90) { gradeLetter = 'A'; }
    else if (avgScore >= 80) { gradeLetter = 'B'; }
    else if (avgScore >= 70) { gradeLetter = 'C'; }
    else if (avgScore >= 60) { gradeLetter = 'D'; }
    
    const lessonsHtml = data.lessons.slice(0, 5).map(l => `
      <li style="display: flex; justify-content: space-between; padding: 0.25rem 0; border-bottom: 1px solid #eee;">
        <span>${l.module} - ${l.lesson}</span>
        <span>${l.completion === 'Completed' ? '‚úÖ' : '‚è≥'} ${l.score}%</span>
      </li>
    `).join('');
    
    return `
      <div class="student-grade-card" style="border: 1px solid #ccc; padding: 1rem; margin-bottom: 1rem;">
        <div>
          <h3 class="student-name" style="margin-bottom: 0.25rem;">${student}</h3>
          <p style="margin: 0.25rem 0;">${data.completed}/${data.lessons.length} lessons completed</p>
        </div>
        <progress value="${progress}" max="100" style="width: 100%;"></progress>
        <div style="margin: 1rem 0;">
          <strong>Average Grade:</strong> 
          <span style="font-size: 1.2rem; font-weight: bold;">${avgScore.toFixed(1)}% (${gradeLetter})</span>
        </div>
        <div style="max-height: 200px; overflow-y: auto;">
          <ul style="list-style: none; padding-left: 0;">
            ${lessonsHtml}
          </ul>
          ${data.lessons.length > 5 ? `<div style="text-align: center; padding: 0.5rem; color: #666;">+${data.lessons.length - 5} more...</div>` : ''}
        </div>
      </div>
    `;
  }).join('');
  
  document.getElementById('gradeCards').innerHTML = gradeCardsHtml;
}

// Chart type switchers
document.querySelectorAll('.chart-btn').forEach(btn => {
  btn.addEventListener('click', function() {
    const chartType = this.dataset.chart;
    const parent = this.closest('div[id$="Chart"]'); // Finds parent e.g., progressChart
    
    // Re-render chart with new type
    if (parent.id === 'progressChart') {
      charts.progress.config.type = chartType === 'area' ? 'line' : chartType;
      charts.progress.data.datasets[0].fill = chartType === 'area';
      charts.progress.update();
    } else if (parent.id === 'gradeDistChart') {
      charts.gradeDist.config.type = chartType;
      charts.gradeDist.update();
    }
  });
});

// Filters
function applyFilters() {
  const moduleFilter = document.getElementById('moduleFilter').value;
  const gradeFilter = document.getElementById('gradeFilter').value;
  const timeFilter = document.getElementById('timeFilter').value;
  
  const filteredData = studentData.filter(record => {
    // Module filter
    if (moduleFilter !== 'all' && record.module.toLowerCase() !== moduleFilter.toLowerCase()) {
      return false;
    }
    
    // Grade filter
    const score = parseFloat(record.score || 0);
    if (gradeFilter !== 'all') {
      if (gradeFilter === 'a' && score < 90) return false;
      if (gradeFilter === 'b' && (score < 80 || score >= 90)) return false;
      if (gradeFilter === 'c' && (score < 70 || score >= 80)) return false;
      if (gradeFilter === 'below' && score >= 70) return false;
    }
    
    // Time filter
    if (timeFilter !== 'all' && record.submissionDate) {
      const recordDate = new Date(record.submissionDate);
      const now = new Date();
      const daysDiff = Math.floor((now - recordDate) / (1000 * 60 * 60 * 24));
      
      if (timeFilter === 'week' && daysDiff > 7) return false;
      if (timeFilter === 'month' && daysDiff > 30) return false;
      if (timeFilter === 'quarter' && daysDiff > 90) return false;
    }
    
    return true;
  });
  
  // Re-render with filtered data
  processData(filteredData);
}

['moduleFilter', 'gradeFilter', 'timeFilter'].forEach(id => {
  document.getElementById(id).addEventListener('change', applyFilters);
});

document.getElementById('studentSearch').addEventListener('input', function() {
  const searchTerm = this.value.toLowerCase();
  document.querySelectorAll('.student-grade-card').forEach(card => {
    const studentName = card.querySelector('.student-name').textContent.toLowerCase();
    card.style.display = studentName.includes(searchTerm) ? 'block' : 'none';
  });
});

// Drag and drop upload
const uploadArea = document.getElementById('uploadArea');

uploadArea.addEventListener('dragover', (e) => {
  e.preventDefault();
});

uploadArea.addEventListener('dragleave', () => {
});

uploadArea.addEventListener('drop', (e) => {
  e.preventDefault();
  
  const file = e.dataTransfer.files[0];
  if (file && file.name.endsWith('.csv')) {
    document.getElementById('csvFileInput').files = e.dataTransfer.files;
    document.getElementById('csvFileInput').dispatchEvent(new Event('change'));
  }
});
</script>

## üìñ How to Use This Dashboard

### CSV Format
Your CSV file should include the following columns:
- `student`: Student name
- `module`: Module name (Frontend, Backend, Data-Viz, AI, Resume)
- `lesson`: Lesson identifier
- `completion`: Completion status (Completed, In Progress)
- `score`: Score percentage (0-100)
- `timeSpent`: Time spent in minutes
- `submissionDate`: Date in YYYY-MM-DD format

### Example CSV:
```csv
student,module,lesson,completion,score,timeSpent,submissionDate
Alice Johnson,Frontend,Lesson 1,Completed,95,120,2025-10-15
Alice Johnson,Frontend,Lesson 2,In Progress,78,60,2025-10-20
Bob Smith,Backend,Lesson 1,Completed,88,90,2025-10-16